From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: Ryan Volz <ryan.volz@gmail.com>
Date: Mon, 27 Oct 2025 16:43:45 -0400
Subject: [PATCH] meson: Make "print-cups" option gate inclusion even when cups
 is found

---
 gtk/print/backends/meson.build | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/gtk/print/backends/meson.build b/gtk/print/backends/meson.build
index d20a128..52de70b 100644
--- a/gtk/print/backends/meson.build
+++ b/gtk/print/backends/meson.build
@@ -14,7 +14,7 @@ if get_option('print-cpdb').enabled() and cpdb_dep.found()
   ])
   print_backend_deps += [cpdb_dep]
   cdata.set('HAVE_PRINTBACKEND_CPDB', 1)
-elif cups_dep.found()
+elif get_option('print-cups').enabled() and cups_dep.found()
   print_backends += 'cups'
   print_backend_sources += files([
     'gtkprintbackendcups.c',
-- 
2.51.0

